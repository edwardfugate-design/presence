<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>presence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Inter:wght@200;300;400&display=swap" rel="stylesheet">
    <style>
        :root { --ink: #1a1a1a; --mist: #fcfcfc; --slate: #64748b; }
        body { font-family: 'Inter', sans-serif; background: var(--mist); color: var(--ink); margin: 0; overflow: hidden; height: 100vh; font-weight: 300; }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        
        /* Smooth fade for content changes */
        .stage-container { height: calc(100vh - 140px); overflow-y: auto; -webkit-overflow-scrolling: touch; }
        iframe { width: 100%; height: 100%; border: none; transition: opacity 0.8s ease; }

        /* Minimal Navigation */
        .nav-item { transition: all 0.5s ease; opacity: 0.3; letter-spacing: 0.2em; font-size: 9px; text-transform: uppercase; font-weight: 400; }
        .nav-item.active { opacity: 1; transform: translateY(-1px); }
        .nav-item:after { content: ''; display: block; width: 0; height: 1px; background: var(--ink); transition: width 0.5s; margin-top: 4px; }
        .nav-item.active:after { width: 100%; }
        
        .card-zen {
            background: transparent; border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 2rem 1rem; transition: all 0.4s ease;
        }
        .card-zen:hover { background: rgba(0,0,0,0.01); border-bottom-color: var(--ink); }
        
        /* Subtle input for intent */
        .intent-input {
            border: none; background: transparent; text-align: center;
            font-family: 'Cormorant Garamond', serif; font-style: italic;
            color: var(--slate); outline: none; width: 100%;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [view, setView] = useState('hub');
            const [intent, setIntent] = useState(localStorage.getItem('presence_intent') || "Neutrality");

            useEffect(() => {
                localStorage.setItem('presence_intent', intent);
            }, [intent]);

            const renderContent = () => {
                if (view === 'hub') return <HubView setView={setView} intent={intent} setIntent={setIntent} />;
                
                const fileMap = {
                    temple: 'monastery-best-in-class-1.html',
                    yoga: 'presence_yoga_v3.html',
                    lab: 'presence_alignment.html',
                    mudra: 'Mudra Guide.html',
                    journal: 'presence_journal.html'
                };

                return <iframe src={fileMap[view]} />;
            };

            return (
                <div className="flex flex-col h-screen relative">
                    {/* MINIMAL HEADER */}
                    <header className="h-20 flex justify-between items-center px-10 z-50">
                        <div className="w-24">
                            <span className="text-[7px] tracking-[0.4em] text-slate-400 uppercase block mb-1">Intent</span>
                            <span className="font-serif italic text-sm text-slate-500">{intent}</span>
                        </div>
                        
                        <div className="text-xl font-serif tracking-[0.3em] cursor-pointer" onClick={() => setView('hub')}>
                            presence
                        </div>

                        <div className="w-24 text-right">
                             <span className="text-[7px] tracking-[0.4em] text-slate-300 uppercase">Est. 2026</span>
                        </div>
                    </header>

                    {/* THE STAGE */}
                    <main className="stage-container flex-grow">
                        {renderContent()}
                    </main>

                    {/* CLEAN NAVIGATION (ALL TABS, NO ICONS) */}
                    <nav className="h-16 flex justify-center items-center gap-12 px-4 z-50">
                        <NavItem label="Hub" active={view === 'hub'} onClick={() => setView('hub')} />
                        <NavItem label="Temple" active={view === 'temple'} onClick={() => setView('temple')} />
                        <NavItem label="Yoga" active={view === 'yoga'} onClick={() => setView('yoga')} />
                        <NavItem label="Lab" active={view === 'lab'} onClick={() => setView('lab')} />
                        <NavItem label="Mudra" active={view === 'mudra'} onClick={() => setView('mudra')} />
                        <NavItem label="Journal" active={view === 'journal'} onClick={() => setView('journal')} />
                    </nav>
                </div>
            );
        }

        function NavItem({ label, active, onClick }) {
            return (
                <button onClick={onClick} className={`nav-item ${active ? 'active' : ''}`}>
                    {label}
                </button>
            );
        }

        function HubView({ setView, intent, setIntent }) {
            return (
                <div className="max-w-4xl mx-auto py-20 px-8 space-y-24 animate-in fade-in duration-1000">
                    
                    <section className="text-center space-y-4">
                        <h1 className="text-8xl font-serif font-light tracking-tighter leading-none">presence</h1>
                        <input 
                            value={intent} 
                            onChange={(e) => setIntent(e.target.value)}
                            className="intent-input text-xl"
                            placeholder="Set Intent..."
                        />
                    </section>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-x-20 gap-y-2">
                        <ZenCard title="Temple" sub="Monastery Space" onClick={() => setView('temple')} />
                        <ZenCard title="Studio" sub="Yoga & Flow" onClick={() => setView('yoga')} />
                        <ZenCard title="Alignment" sub="The Lab" onClick={() => setView('lab')} />
                        <ZenCard title="Mudra" sub="Encyclopedia" onClick={() => setView('mudra')} />
                        <ZenCard title="Breathing" sub="Pranayama" onClick={() => setView('hub')} />
                        <ZenCard title="Journal" sub="Reflection" onClick={() => setView('journal')} />
                    </div>
                </div>
            );
        }

        function ZenCard({ title, sub, onClick }) {
            return (
                <div onClick={onClick} className="card-zen cursor-pointer group flex justify-between items-baseline">
                    <div className="text-2xl font-serif font-light italic text-slate-800">{title}</div>
                    <div className="text-[8px] font-normal text-slate-300 uppercase tracking-[0.2em]">{sub}</div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
