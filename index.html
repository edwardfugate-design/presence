<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>presence â€¢ symphony hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --indigo: #6366f1; --dawn: #fcfcfc; }
        body { font-family: 'Inter', sans-serif; background: var(--dawn); margin: 0; overflow: hidden; height: 100vh; }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        
        .stage-container { height: calc(100vh - 160px); overflow-y: auto; -webkit-overflow-scrolling: touch; }
        iframe { width: 100%; height: 100%; border: none; transition: opacity 0.5s ease; }

        .nav-item { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); opacity: 0.4; }
        .nav-item.active { opacity: 1; color: var(--indigo); transform: translateY(-2px); }
        
        /* Ambient Glow Background */
        .ambient-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.02) 0%, transparent 70%);
            z-index: -1; pointer-events: none;
        }
        
        .card-glass {
            background: white; border: 1px solid rgba(0,0,0,0.03);
            border-radius: 2.5rem; transition: all 0.4s ease;
        }
        .card-glass:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.02); border-color: var(--indigo); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            // VIEW STATE: 'hub', 'flow', 'yoga', 'meditation', 'guided', 'breath', 'scan', 'sleep', 'ambient', 'lab', 'movement', 'ritual', 'journal', 'insights'
            const [view, setView] = useState('hub');
            const [intent, setIntent] = useState(localStorage.getItem('presence_intent') || "Neutrality");

            useEffect(() => {
                localStorage.setItem('presence_intent', intent);
            }, [intent]);

            // This function handles the "Stage" content
            const renderContent = () => {
                if (view === 'hub') return <HubView setView={setView} intent={intent} setIntent={setIntent} />;
                
                // Mapping views to your file names
                const fileMap = {
                    yoga: 'presence_yoga_v3.html',
                    meditation: 'presence_meditation.html',
                    guided: 'presence_guided.html',
                    breath: 'presence_breathwork.html',
                    scan: 'presence_bodyscan.html',
                    sleep: 'presence_sleep.html',
                    ambient: 'presence_ambient_v2.html',
                    lab: 'presence_alignment.html',
                    movement: 'presence_movement.html',
                    ritual: 'presence_rituals.html',
                    flow: 'presence_flow.html',
                    journal: 'presence_journal.html',
                    insights: 'presence_insights.html'
                };

                return <iframe src={fileMap[view]} className="animate-in fade-in duration-1000" />;
            };

            return (
                <div className="flex flex-col h-screen relative">
                    <div className="ambient-bg" />

                    {/* PERSISTENT HEADER (The "Conductor") */}
                    <header className="h-20 flex justify-between items-center px-8 border-b border-slate-50 bg-white/60 backdrop-blur-xl z-50">
                        <div className="flex flex-col">
                            <span className="text-[7px] font-bold tracking-[0.4em] text-indigo-400 uppercase">Active Intent</span>
                            <span className="font-serif italic text-lg text-slate-700">{intent}</span>
                        </div>
                        
                        <div className="text-2xl font-serif italic font-bold tracking-tighter cursor-pointer select-none" onClick={() => setView('hub')}>
                            presence<span className="text-indigo-500">â€¢</span>
                        </div>

                        <div className="w-10 h-10 rounded-full bg-slate-50 border border-slate-100 flex items-center justify-center text-xs">
                            âœ¨
                        </div>
                    </header>

                    {/* THE STAGE */}
                    <main className="stage-container flex-grow">
                        {renderContent()}
                    </main>

                    {/* GLOBAL NAVIGATION */}
                    <nav className="h-20 bg-white border-t border-slate-50 flex justify-around items-center px-4 z-50">
                        <NavItem icon="ðŸ›ï¸" label="Hub" active={view === 'hub'} onClick={() => setView('hub')} />
                        <NavItem icon="ðŸŒŠ" label="Practice" active={['yoga', 'meditation', 'breath', 'scan'].includes(view)} onClick={() => setView('yoga')} />
                        <NavItem icon="ðŸ“" label="Lab" active={view === 'lab'} onClick={() => setView('lab')} />
                        <NavItem icon="ðŸ“–" label="Journal" active={view === 'journal'} onClick={() => setView('journal')} />
                    </nav>
                </div>
            );
        }

        function NavItem({ icon, label, active, onClick }) {
            return (
                <button onClick={onClick} className={`nav-item flex flex-col items-center gap-1 ${active ? 'active' : 'text-slate-400'}`}>
                    <span className="text-xl">{icon}</span>
                    <span className="text-[8px] font-bold uppercase tracking-widest">{label}</span>
                </button>
            );
        }

        function HubView({ setView, intent, setIntent }) {
            return (
                <div className="p-8 md:p-16 max-w-7xl mx-auto space-y-20 animate-in fade-in slide-in-from-bottom-4 duration-1000">
                    
                    {/* Hero & Intent Setting */}
                    <section className="text-center space-y-6">
                        <h1 className="text-8xl font-serif tracking-tighter leading-none">presence</h1>
                        <div className="flex flex-col items-center">
                             <input 
                                value={intent} 
                                onChange={(e) => setIntent(e.target.value)}
                                className="text-2xl font-serif italic text-indigo-500 bg-transparent text-center focus:outline-none border-b border-transparent focus:border-indigo-100 w-full max-w-xs"
                                placeholder="Set Intent..."
                            />
                        </div>
                    </section>

                    {/* Main Categories */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                        
                        {/* CATEGORY: ACTIVE */}
                        <div className="space-y-6">
                            <h4 className="text-[10px] font-bold tracking-[0.4em] text-slate-300 uppercase pl-4">Active Practice</h4>
                            <div className="space-y-3">
                                <MenuCard icon="ðŸŒŠ" title="Studio" sub="Yoga & Flow" onClick={() => setView('yoga')} />
                                <MenuCard icon="ðŸ§˜" title="Meditation" sub="Timed Sessions" onClick={() => setView('meditation')} />
                                <MenuCard icon="ðŸ’¨" title="Breathwork" sub="Regulation" onClick={() => setView('breath')} />
                                <MenuCard icon="âœ¨" title="Body Scan" sub="Awareness" onClick={() => setView('scan')} />
                            </div>
                        </div>

                        {/* CATEGORY: DEEP WORK */}
                        <div className="space-y-6">
                            <h4 className="text-[10px] font-bold tracking-[0.4em] text-slate-300 uppercase pl-4">Deep Work</h4>
                            <div className="space-y-3">
                                <MenuCard icon="ðŸ“" title="Alignment Lab" sub="Biomechanics" onClick={() => setView('lab')} />
                                <MenuCard icon="ðŸŽµ" title="Ambient" sub="Soundscapes" onClick={() => setView('ambient')} />
                                <MenuCard icon="ðŸ”„" title="Rituals" sub="Custom Flows" onClick={() => setView('ritual')} />
                                <MenuCard icon="ðŸŽ¯" title="Intents" sub="Set Direction" onClick={() => setView('flow')} />
                            </div>
                        </div>

                        {/* CATEGORY: SYSTEM */}
                        <div className="space-y-6">
                            <h4 className="text-[10px] font-bold tracking-[0.4em] text-slate-300 uppercase pl-4">System</h4>
                            <div className="space-y-3">
                                <MenuCard icon="ðŸ“–" title="Journal" sub="Reflection" onClick={() => setView('journal')} />
                                <MenuCard icon="ðŸ“ˆ" title="Insights" sub="Progress" onClick={() => setView('insights')} />
                                <MenuCard icon="ðŸŒ™" title="Sleep" sub="Recovery" onClick={() => setView('sleep')} />
                            </div>
                        </div>

                    </div>
                </div>
            );
        }

        function MenuCard({ icon, title, sub, onClick }) {
            return (
                <div onClick={onClick} className="card-glass p-6 flex items-center gap-5 cursor-pointer group">
                    <div className="text-3xl group-hover:scale-110 transition-transform">{icon}</div>
                    <div>
                        <div className="text-xl font-serif italic text-slate-700">{title}</div>
                        <div className="text-[9px] font-bold text-slate-300 uppercase tracking-widest">{sub}</div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
