<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meditation Timer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: white; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .preset-btn { padding: 8px 16px; border: 1px solid #e2e8f0; border-radius: 99px; font-size: 11px; cursor: pointer; transition: 0.2s; }
        .preset-btn.active { background: #1a1a1a; color: white; border-color: #1a1a1a; }
        .circle { width: 240px; height: 240px; border-radius: 50%; border: 1px solid #f1f5f9; display: flex; align-items: center; justify-content: center; flex-direction: column; cursor: pointer; transition: 0.4s; box-shadow: 0 10px 30px rgba(0,0,0,0.02); }
        .circle.active { transform: scale(1.1); border-color: #cbd5e1; }
    </style>
</head>
<body>
    <div class="text-center p-6 w-full max-w-md">
        <h2 class="text-3xl font-serif italic mb-8">Meditation</h2>
        
        <div class="flex flex-wrap justify-center gap-2 mb-10">
            <button class="preset-btn" onclick="setTime(5)">5</button>
            <button class="preset-btn" onclick="setTime(10)">10</button>
            <button class="preset-btn" onclick="setTime(15)">15</button>
            <button class="preset-btn" onclick="setTime(30)">30</button>
            <button class="preset-btn" onclick="setTime(60)">60</button>
            <button class="preset-btn" onclick="setTime('random')">Random</button>
            <button class="preset-btn" onclick="setTime('open')">Open</button>
        </div>

        <div class="circle mx-auto" id="timerCircle" onclick="toggleTimer()">
            <span id="label" class="text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-1">Start</span>
            <span id="display" class="text-4xl font-light">10:00</span>
        </div>
    </div>

    <script>
        let seconds = 600;
        let timer = null;
        let isOpen = false;

        function setTime(val) {
            clearInterval(timer);
            timer = null;
            document.getElementById('label').innerText = 'Start';
            if (val === 'random') seconds = Math.floor(Math.random() * 60) * 60;
            else if (val === 'open') { seconds = 0; isOpen = true; }
            else { seconds = val * 60; isOpen = false; }
            updateDisplay();
        }

        function updateDisplay() {
            const m = Math.floor(seconds / 60);
            const s = seconds % 60;
            document.getElementById('display').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
        }

        function toggleTimer() {
            if (timer) {
                clearInterval(timer);
                timer = null;
                document.getElementById('label').innerText = 'Paused';
            } else {
                document.getElementById('label').innerText = 'Presencing';
                timer = setInterval(() => {
                    if (isOpen) seconds++;
                    else seconds--;
                    updateDisplay();
                    if (seconds <= 0 && !isOpen) { clearInterval(timer); alert('Session Complete'); }
                }, 1000);
            }
        }
    </script>
</body>
</html>
